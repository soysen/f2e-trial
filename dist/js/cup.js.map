{"version":3,"names":[],"mappings":"","sources":["cup.js"],"sourcesContent":["window.$ = window.jQuery = require('jquery');\n\nclass FindRabbit {\n  constructor() {\n    this.container = $(\"#cup-container\");\n    this.hats = [$(\"#hat-1\"), $(\"#hat-2\"), $(\"#hat-3\")];\n    this.rabbitIdx = Math.ceil(Math.random() * 3) - 1;\n    this.startLayer = $('#game-start');\n    this.startBtn = $(\"#start\");\n    this.shuffleSpeed = 500;\n    this.nuberOfShuffels = 10;\n    this.currentShuffleTime = 0;\n    this.gameFinish = false;\n    this.z = 0;\n\n    this.init();\n\n    this.startBtn.on('click', e => {\n      this.gameStart()\n    });\n\n    $(this.container).find('.hat-container').click(e => {\n      if (!this.gameFinish) return;\n      e.preventDefault();\n      this.showResult(e);\n    });\n  }\n\n  init() {\n    this.hats[this.rabbitIdx].addClass('with-rabbit').prepend(\n      $(\"<div/>\", {\n        class: \"rabbit bounceInUp animated\"\n      })\n    );\n  }\n\n  shuffle(o) { //v1.0\n    for (var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);\n    return o;\n  };\n\n  gameStart() {\n    this.gameFinish = false;\n    this.currentShuffleTime = 0;\n    this.startLayer.addClass(\"hidden\");\n    this.container.find('.rabbit').removeClass(\"bounceInUp\").addClass('bounceOutDown');\n\n    var hat1_left = this.hats[0].position().left,\n      hat2_left = this.hats[1].position().left,\n      hat3_left = this.hats[2].position().left,\n      hat_top = this.hats[2].position().top;\n\n    this.hats[0].css({\n      position: \"absolute\",\n      top: hat_top + \"px\",\n      left: hat1_left + \"px\"\n    });\n\n    this.hats[1].css({\n      position: \"absolute\",\n      top: hat_top + \"px\",\n      left: hat2_left + \"px\"\n    });\n\n    this.hats[2].css({\n      position: \"absolute\",\n      top: hat_top + \"px\",\n      left: hat3_left + \"px\"\n    });\n\n    this.shuffleHat();\n  }\n\n  showResult(e) {\n    $(\".rabbit\").removeClass(\"bounceOutDown\").addClass('bounceInUp');\n\n    setTimeout(() => {\n      if ($(e.target).find(\".rabbit\").length || $(e.target).siblings('.rabbit').length)\n        alert('Bingo!');\n      else\n        alert('Loooooser!');\n    }, this.shuffleSpeed);\n\n    this.startLayer.removeClass('hidden');\n  }\n\n  shuffleHat() {\n    var interval = setInterval(() => {\n      // Stop Shuffle\n      if (this.currentShuffleTime >= this.nuberOfShuffels) {\n        clearInterval(interval);\n        this.gameFinish = true;\n      }\n\n      // Shuffle\n      var array = this.shuffle([1, 2, 3]);\n      var time = this.shuffleSpeed;\n\n      var h_1_left = $(\"#hat-\" + array[1]).position().left;\n      var h_0_left = $(\"#hat-\" + array[0]).position().left;\n      $(\"#hat-\" + array[0]).animate({\n        left: h_1_left + \"px\",\n        zIndex: 0\n      }, time);\n\n      $(\"#hat-\" + array[1]).animate({\n        left: h_0_left + \"px\",\n        zIndex: 1\n      }, time);\n\n      this.currentShuffleTime++;\n\n    }, this.shuffleSpeed * 1.5);\n  }\n}\n\n\nwindow.onload = function () {\n  window.rabbitGame = new FindRabbit();\n}"],"file":"cup.js"}