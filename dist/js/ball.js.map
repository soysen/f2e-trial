{"version":3,"names":[],"mappings":"","sources":["ball.js"],"sourcesContent":["window.createjs = this.createjs = require('createjs-module');\nrequire('createjs-easeljs');\n\nfunction ball(id) {\n\n  // set size\n  var canvas = document.querySelector(\"#\" + id);\n  var outer_w = canvas.parentNode.clientWidth;\n  var outer_h = canvas.parentNode.clientHeight;\n  var ball_size = 12;\n  var speed = 0;\n  var drop = null;\n  canvas.width = outer_w;\n  canvas.height = outer_h;\n  // init\n  var stage = new createjs.Stage(id);\n  var ball = new createjs.Shape();\n  ball.graphics.beginFill('red').drawCircle(0, 0, ball_size);\n  ball.x = (outer_w / 2 - ball_size);\n  ball.y = (outer_h / 2 - ball_size);\n  ball.cursor = 'pointer';\n  stage.addChild(ball);\n  stage.update();\n\n  var is_hold = false,\n    vy = 0, //初始速度\n    gravity = 0.24, //定义重力加速度\n    bounce = -0.85; //定义反弹系数\n\n\n  ball.addEventListener('pressmove', function (e) {\n    is_hold = true;\n    ball.x = stage.mouseX;\n    ball.y = stage.mouseY;\n    stage.update();\n    vy = 0;\n  });\n\n  //碰撞检测\n  function checkGround(ball) {\n    if (ball.y + ball_size > outer_h) {\n      ball.y = canvas.height - ball_size;\n      vy *= bounce; //速度反向并且减小\n    }\n  }\n\n  (function drawFramw() {\n    window.requestAnimationFrame(drawFramw, canvas);\n    // context.clearRect(0, 0, canvas.width, canvas.height);\n\n    vy += gravity;\n    ball.y += vy;\n\n    //碰撞检测\n    checkGround(ball);\n    stage.update();\n  }());\n}\n\nfunction renderCanvas() {\n  ball('ball');\n}\n\nwindow.onload = renderCanvas()"],"file":"ball.js"}