{"version":3,"names":[],"mappings":"","sources":["pixi-test.js"],"sourcesContent":["require('pixi.js');\nwindow.createjs = this.createjs = require('createjs-module');\n\n\nclass PIXIGAME {\n    constructor(id) {\n        this.app = new PIXI.Application(window.innerWidth, window.innerHeight, {\n            backgroundColor: 0xffffff\n        });\n        document.querySelector('main').appendChild(this.app.view);\n        this.rectangles = [];\n        this.currentMatrix = {\n            col: 0,\n            row: 0\n        };\n        // this.stage = new PIXI.Container();\n\n        this.renderBox();\n\n        // 如果有圖片要讀取，使用 PIXI.loader\n        // PIXI.loader\n        //     .add(\"../img/gift-1.png\")\n        //     .load(loader => this.init(loader));\n\n        // this.renderer.render(this.stage);\n        // window.requestAnimationFrame(this.stage);\n    }\n\n    renderBox() {\n\n        var xAxisNum = window.innerWidth / 100;\n        var yAxisNum = window.innerHeight / 100;\n\n        for (var i = 0; i < yAxisNum; i++) {\n            if (!this.rectangles[i]) this.rectangles[i] = [];\n            for (var j = 0; j < xAxisNum; j++) {\n                var box = new PIXI.Graphics();\n                box.lineStyle(1, 0xFFFFFF, 1);\n                box.beginFill(0x66CCFF);\n                box.drawRect(0, 0, 100, 100);\n                box.endFill();\n                box.row = i;\n                box.col = j;\n                box.x = 100 * j;\n                box.y = 100 * i;\n\n                box.interactive = true;\n\n                box.on('pointermove', e => this.onMouseMove(e));\n\n                this.rectangles[i][j] = box;\n\n                this.app.stage.addChild(box);\n            }\n\n        }\n        // \n        // this.renderer.render(this.stage);\n    }\n\n    onMouseMove(event) {\n        var col = Math.floor(event.data.global.x / 100);\n        var row = Math.floor(event.data.global.y / 100);\n\n        this.currentMatrix.col = col;\n        this.currentMatrix.row = row;\n        this.rectangles.forEach((items, r_idx) => {\n\n            items.forEach((item, c_idx) => {\n                if (r_idx == row && c_idx == col) {\n                    item.alpha = .3;\n                } else if ((c_idx == col && (r_idx == row - 1 || r_idx == row + 1)) || (r_idx == row && (c_idx == col - 1 || c_idx == col + 1))) {\n                    item.alpha = .65;\n                } else if ((c_idx == col - 1 || c_idx == col + 1) && (r_idx == row - 1 || r_idx == row + 1)) {\n                    item.alpha = .85;\n                } else {\n                    item.alpha = 1;\n                }\n            });\n\n        });\n\n    }\n    // 圖片讀取完放入 PIXI.Sprite\n    // init(loader) {\n\n    //     this.sprite = new PIXI.Sprite(loader.resources[\"../img/gift-1.png\"].texture); // get Texture Cache\n\n    //     this.sprite.x = 100;\n    //     this.sprite.y = 100;\n\n    //     this.stage.addChild(this.sprite);\n    //     this.renderer.render(this.stage);\n    // }\n}\n\n\nwindow.card = new PIXIGAME('pixi');"],"file":"pixi-test.js"}