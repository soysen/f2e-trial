<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AJA::F2E TRIAL</title>
    <link href="../css/app.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
  </head>
  <body> 
    <header>
      <nav class="navbar">
        <div class="navbar-brand"><a href="#" class="navbar-item brand">F2E TRIAL</a>
          <div data-target="navMenuTransparentExample" class="navbar-burger"><span></span><span></span><span></span></div>
        </div>
        <div id="navMenuTransparentExample" class="navbar-menu">
          <div class="navbar-item has-dropdown is-hoverable"> 
            <div class="navbar-link">LAYOUT </div>
            <div id="layoutDropdown" class="navbar-dropdown is-boxed"><a href="./svg.html" class="navbar-item">SVG</a><a href="./svg-mask.html" class="navbar-item">SVG Mask</a><a href="./table.html" class="navbar-item">Table</a><a href="./parallax.html" class="navbar-item">Parallax</a><a href="./placeholder.html" class="navbar-item">Placeholder</a><a href="./tweenmax.html" class="navbar-item">TweenMax Card</a><a href="./form.html" class="navbar-item">Form</a><a href="./sortable-list.html" class="navbar-item">Sortable List</a><a href="./offline.html" class="navbar-item">Offline</a></div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable"> 
            <div class="navbar-link">CANVAS </div>
            <div id="canvasDropdown" class="navbar-dropdown is-boxed"><a href="./ball.html" class="navbar-item">重力加速度</a><a href="./rocket.html" class="navbar-item">火箭飛飛</a><a href="./cup.html" class="navbar-item">猜兔子</a><a href="./pixi.html" class="navbar-item">PIXI JS</a><a href="./text_draw.html" class="navbar-item">Draw Text</a><a href="./random_obj.html" class="navbar-item">Random Object</a><a href="./ball-hit.html" class="navbar-item">Ball Hit</a><a href="./larva.html" class="navbar-item">Larva</a></div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable"> 
            <div class="navbar-link">Chart </div>
            <div id="chartDropdown" class="navbar-dropdown is-boxed"><a href="./chart.html" class="navbar-item">ChartFlow</a><a href="./tax-chart.html" class="navbar-item">Tax Chart</a></div>
          </div>
          <div class="navbar-item has-dropdown is-hoverable"> 
            <div class="navbar-link">Google </div>
            <div id="chartDropdown" class="navbar-dropdown is-boxed"><a href="./google-map.html" class="navbar-item">Google Map</a></div>
          </div>
        </div>
      </nav>
    </header>
    <script>
      var loc = window.location.pathname.split(/[\/,\.]/g);
      loc.reverse();
      
      document.querySelector('.navbar-burger').addEventListener('click', (e) => {
          let menu = document.querySelector("#navMenuTransparentExample"),
              cls = menu.className;
          
          menu.className = (cls.indexOf('show')>-1) ? "navbar-menu" : "navbar-menu show"
      })
      
      document.querySelectorAll('a.navbar-item').forEach((item) => {
          if( (item.href).indexOf(loc[1]) > -1 )  item.className += " is-active";
      })
    </script>
    <main>
      <section class="section">
        <svg id="clip" viewbox="0 0 2200 2200">
          <defs>
            <mask id="mask" maskunits="userSpaceOnUse">
              <path id="mask-path" fill="#fff" d="M1271.3172000000004,271.9874666666667 C1019.8389333333336,206.8899866666666 736.0176000000001,248.30839999999995 524.7706666666669,404.08774666666665 270.55306666666684,591.49692 238.72693333333342,965.5014666666665 448.1422666666666,1198.7633333333333 652.5787999999998,1427.2093333333335 971.7865333333331,1543.8782666666666 1275.094653333333,1539.0013333333334 1453.4854666666665,1536.1725333333334 1614.8634533333334,1496.4390666666666 1738.7058666666667,1360.3789333333332 1860.4450533333334,1226.610413333333 1926.0513333333333,1030.4149333333332 1874.7982666666667,849.2865466666667 1783.7304000000001,527.5429333333335 1563.7529333333337,347.7358666666668 1271.3172000000004,271.9874666666667 z" data-svg-origin="1156.2247924804688 886.1474914550781" transform="matrix(1,0,0,1,1.7871783143615732,-2.7527775425720202)" style="transform-origin: 0px 0px 0px;" data-original="M1268.4,271.7c-251.6-64.1-534.6-23-745.8,132.6c-254.2,187.2-284.8,563.4-73.5,795.6 c206,226.4,524.8,344.1,827.9,339.6c178.2-2.6,338-42.2,461.7-178.2c121.6-133.7,187.3-330.8,136-511.7 C1783,526,1561,346.3,1268.4,271.7 Z"></path>
            </mask>
          </defs>
          <image xlink:href="../img/wallpaper-5120x3200.jpg" mask="url(#mask)"></image>
        </svg>
      </section>
    </main>
    <footer class="footer">
      <div class="container">
        <div class="content has-text-centered">Powered by AJA ProTeam.</div>
      </div>
    </footer>
  </body>
  <script src="/js/app.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenMax.min.js"></script>
  <script>
    class Slime {
        constructor(path, animate) {
            this.obj = document.querySelector(path),
            this.path = this.obj.getAttribute('d').split(/ /g);
            this.oriPath = this.path
            this.endPath = [];
            this.currentPath = [];
            this.dur = 1;
    
            this.run();
        }
    
        run() {
            var newPath = '';
            this.path.forEach((p, idx) => {
                if( p!=='Z' && p!=='z' ) {
                    var cmd = (/[A-Z]\d/).test(p) ? p.slice(0,1) : '';
                    var point = ( (/[A-Z]\d/).test(p) ? p.slice(1) : p ).split(/\,/g);
                    var x = Number(point[0]), y = Number(point[1]);
                    var ox = Number(this.oriPath[idx][0]), oy = Number(this.oriPath[idx][1]);
    
                    point[0] = x + this.randomNumber(ox, x);
                    point[1] = y + this.randomNumber(oy, y);
    
                    newPath += `${cmd}${point[0]},${point[1]}${(idx+1<this.path.length) ? ' ' : ''}`; 
                } else {
                    newPath += p
                }
            });
            
            this.path = newPath.split(/ /g);
            this.obj.setAttribute('d', newPath)
            //- TweenLite.to(, 1, {d: newPath})
            
            setTimeout(() => {
                this.run();
            }, 500)
        }
    
        randomNumber(oldNum, newNum) {
            return (Math.random() * 5) * (Math.floor(Math.random(10) * 10) % 2 > 0 ? 1 : -1);
        }
    } 
    
    const round = new Slime('#mask-path', '#mask-animate')
  </script>
</html>